import{s as ae,B as N,C as K,z as J,F as tt,D as Ee,p as Pe,r as se,u as ie,v as re,w as ce,G as Mt,H as Tt,a as Ke,c as Fe,i as Ze,d as Xe,E as Ot}from"./scheduler.FMApFIDC.js";import{S as le,i as ue,b as F,d as Z,m as X,a as R,t as S,e as W,f as wt}from"./index.Lj_ouX4s.js";import{aO as At,aP as Ct,$ as jt,aQ as Dt,V as O,aR as U,aS as H,a6 as _e,aT as We,v as D,a as $,g as Me,d as Te,e as Rt,u as St,k as nt,f as Oe,aU as It,aV as Ve,aW as Be,M as be,aX as Ge,I as Lt,aY as Nt}from"./index.NDqpFn1b.js";const qe={type:"change"},ye={type:"start"},Qe={type:"end"},oe=new At,Je=new Ct,kt=Math.cos(70*jt.DEG2RAD);let Yt=class extends Dt{constructor(o,r){super(),this.object=o,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new O,this.cursor=new O,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:U.ROTATE,MIDDLE:U.DOLLY,RIGHT:U.PAN},this.touches={ONE:H.ROTATE,TWO:H.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",he),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",he),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(qe),e.update(),a=n.NONE},this.update=function(){const t=new O,u=new _e().setFromUnitVectors(o.up,new O(0,1,0)),p=u.clone().invert(),h=new O,T=new _e,k=new O,C=2*Math.PI;return function(Pt=null){const He=e.object.position;t.copy(He).sub(e.target),t.applyQuaternion(u),i.setFromVector3(t),e.autoRotate&&a===n.NONE&&B(at(Pt)),e.enableDamping?(i.theta+=c.theta*e.dampingFactor,i.phi+=c.phi*e.dampingFactor):(i.theta+=c.theta,i.phi+=c.phi);let I=e.minAzimuthAngle,L=e.maxAzimuthAngle;isFinite(I)&&isFinite(L)&&(I<-Math.PI?I+=C:I>Math.PI&&(I-=C),L<-Math.PI?L+=C:L>Math.PI&&(L-=C),I<=L?i.theta=Math.max(I,Math.min(L,i.theta)):i.theta=i.theta>(I+L)/2?Math.max(I,i.theta):Math.min(L,i.theta)),i.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,i.phi)),i.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(E,e.dampingFactor):e.target.add(E),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor),e.zoomToCursor&&Y||e.object.isOrthographicCamera?i.radius=me(i.radius):i.radius=me(i.radius*m),t.setFromSpherical(i),t.applyQuaternion(p),He.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(c.theta*=1-e.dampingFactor,c.phi*=1-e.dampingFactor,E.multiplyScalar(1-e.dampingFactor)):(c.set(0,0,0),E.set(0,0,0));let ge=!1;if(e.zoomToCursor&&Y){let q=null;if(e.object.isPerspectiveCamera){const Q=t.length();q=me(Q*m);const ne=Q-q;e.object.position.addScaledVector(V,ne),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const Q=new O(d.x,d.y,0);Q.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/m)),e.object.updateProjectionMatrix(),ge=!0;const ne=new O(d.x,d.y,0);ne.unproject(e.object),e.object.position.sub(ne).add(Q),e.object.updateMatrixWorld(),q=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;q!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(q).add(e.object.position):(oe.origin.copy(e.object.position),oe.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(oe.direction))<kt?o.lookAt(e.target):(Je.setFromNormalAndCoplanarPoint(e.object.up,e.target),oe.intersectPlane(Je,e.target))))}else e.object.isOrthographicCamera&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/m)),e.object.updateProjectionMatrix(),ge=!0);return m=1,Y=!1,ge||h.distanceToSquared(e.object.position)>l||8*(1-T.dot(e.object.quaternion))>l||k.distanceToSquared(e.target)>0?(e.dispatchEvent(qe),h.copy(e.object.position),T.copy(e.object.quaternion),k.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",ze),e.domElement.removeEventListener("pointerdown",Ye),e.domElement.removeEventListener("pointercancel",G),e.domElement.removeEventListener("wheel",xe),e.domElement.removeEventListener("pointermove",pe),e.domElement.removeEventListener("pointerup",G),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",he),e._domElementKeyEvents=null)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=n.NONE;const l=1e-6,i=new We,c=new We;let m=1;const E=new O,y=new D,M=new D,b=new D,_=new D,P=new D,f=new D,A=new D,j=new D,g=new D,V=new O,d=new D;let Y=!1;const w=[],v={};function at(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function ee(t){const u=Math.abs(t)/(100*(window.devicePixelRatio|0));return Math.pow(.95,e.zoomSpeed*u)}function B(t){c.theta-=t}function te(t){c.phi-=t}const we=function(){const t=new O;return function(p,h){t.setFromMatrixColumn(h,0),t.multiplyScalar(-p),E.add(t)}}(),Ae=function(){const t=new O;return function(p,h){e.screenSpacePanning===!0?t.setFromMatrixColumn(h,1):(t.setFromMatrixColumn(h,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(p),E.add(t)}}(),x=function(){const t=new O;return function(p,h){const T=e.domElement;if(e.object.isPerspectiveCamera){const k=e.object.position;t.copy(k).sub(e.target);let C=t.length();C*=Math.tan(e.object.fov/2*Math.PI/180),we(2*p*C/T.clientHeight,e.object.matrix),Ae(2*h*C/T.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(we(p*(e.object.right-e.object.left)/e.object.zoom/T.clientWidth,e.object.matrix),Ae(h*(e.object.top-e.object.bottom)/e.object.zoom/T.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function fe(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?m/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Ce(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?m*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function de(t,u){if(!e.zoomToCursor)return;Y=!0;const p=e.domElement.getBoundingClientRect(),h=t-p.left,T=u-p.top,k=p.width,C=p.height;d.x=h/k*2-1,d.y=-(T/C)*2+1,V.set(d.x,d.y,1).unproject(e.object).sub(e.object.position).normalize()}function me(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function je(t){y.set(t.clientX,t.clientY)}function st(t){de(t.clientX,t.clientX),A.set(t.clientX,t.clientY)}function De(t){_.set(t.clientX,t.clientY)}function it(t){M.set(t.clientX,t.clientY),b.subVectors(M,y).multiplyScalar(e.rotateSpeed);const u=e.domElement;B(2*Math.PI*b.x/u.clientHeight),te(2*Math.PI*b.y/u.clientHeight),y.copy(M),e.update()}function rt(t){j.set(t.clientX,t.clientY),g.subVectors(j,A),g.y>0?fe(ee(g.y)):g.y<0&&Ce(ee(g.y)),A.copy(j),e.update()}function ct(t){P.set(t.clientX,t.clientY),f.subVectors(P,_).multiplyScalar(e.panSpeed),x(f.x,f.y),_.copy(P),e.update()}function lt(t){de(t.clientX,t.clientY),t.deltaY<0?Ce(ee(t.deltaY)):t.deltaY>0&&fe(ee(t.deltaY)),e.update()}function ut(t){let u=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?te(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):x(0,e.keyPanSpeed),u=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?te(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):x(0,-e.keyPanSpeed),u=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?B(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):x(e.keyPanSpeed,0),u=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?B(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):x(-e.keyPanSpeed,0),u=!0;break}u&&(t.preventDefault(),e.update())}function Re(t){if(w.length===1)y.set(t.pageX,t.pageY);else{const u=z(t),p=.5*(t.pageX+u.x),h=.5*(t.pageY+u.y);y.set(p,h)}}function Se(t){if(w.length===1)_.set(t.pageX,t.pageY);else{const u=z(t),p=.5*(t.pageX+u.x),h=.5*(t.pageY+u.y);_.set(p,h)}}function Ie(t){const u=z(t),p=t.pageX-u.x,h=t.pageY-u.y,T=Math.sqrt(p*p+h*h);A.set(0,T)}function ft(t){e.enableZoom&&Ie(t),e.enablePan&&Se(t)}function dt(t){e.enableZoom&&Ie(t),e.enableRotate&&Re(t)}function Le(t){if(w.length==1)M.set(t.pageX,t.pageY);else{const p=z(t),h=.5*(t.pageX+p.x),T=.5*(t.pageY+p.y);M.set(h,T)}b.subVectors(M,y).multiplyScalar(e.rotateSpeed);const u=e.domElement;B(2*Math.PI*b.x/u.clientHeight),te(2*Math.PI*b.y/u.clientHeight),y.copy(M)}function Ne(t){if(w.length===1)P.set(t.pageX,t.pageY);else{const u=z(t),p=.5*(t.pageX+u.x),h=.5*(t.pageY+u.y);P.set(p,h)}f.subVectors(P,_).multiplyScalar(e.panSpeed),x(f.x,f.y),_.copy(P)}function ke(t){const u=z(t),p=t.pageX-u.x,h=t.pageY-u.y,T=Math.sqrt(p*p+h*h);j.set(0,T),g.set(0,Math.pow(j.y/A.y,e.zoomSpeed)),fe(g.y),A.copy(j);const k=(t.pageX+u.x)*.5,C=(t.pageY+u.y)*.5;de(k,C)}function mt(t){e.enableZoom&&ke(t),e.enablePan&&Ne(t)}function pt(t){e.enableZoom&&ke(t),e.enableRotate&&Le(t)}function Ye(t){e.enabled!==!1&&(w.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",pe),e.domElement.addEventListener("pointerup",G)),_t(t),t.pointerType==="touch"?bt(t):ht(t))}function pe(t){e.enabled!==!1&&(t.pointerType==="touch"?yt(t):gt(t))}function G(t){Et(t),w.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",pe),e.domElement.removeEventListener("pointerup",G)),e.dispatchEvent(Qe),a=n.NONE}function ht(t){let u;switch(t.button){case 0:u=e.mouseButtons.LEFT;break;case 1:u=e.mouseButtons.MIDDLE;break;case 2:u=e.mouseButtons.RIGHT;break;default:u=-1}switch(u){case U.DOLLY:if(e.enableZoom===!1)return;st(t),a=n.DOLLY;break;case U.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;De(t),a=n.PAN}else{if(e.enableRotate===!1)return;je(t),a=n.ROTATE}break;case U.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;je(t),a=n.ROTATE}else{if(e.enablePan===!1)return;De(t),a=n.PAN}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(ye)}function gt(t){switch(a){case n.ROTATE:if(e.enableRotate===!1)return;it(t);break;case n.DOLLY:if(e.enableZoom===!1)return;rt(t);break;case n.PAN:if(e.enablePan===!1)return;ct(t);break}}function xe(t){e.enabled===!1||e.enableZoom===!1||a!==n.NONE||(t.preventDefault(),e.dispatchEvent(ye),lt(t),e.dispatchEvent(Qe))}function he(t){e.enabled===!1||e.enablePan===!1||ut(t)}function bt(t){switch(Ue(t),w.length){case 1:switch(e.touches.ONE){case H.ROTATE:if(e.enableRotate===!1)return;Re(t),a=n.TOUCH_ROTATE;break;case H.PAN:if(e.enablePan===!1)return;Se(t),a=n.TOUCH_PAN;break;default:a=n.NONE}break;case 2:switch(e.touches.TWO){case H.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;ft(t),a=n.TOUCH_DOLLY_PAN;break;case H.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;dt(t),a=n.TOUCH_DOLLY_ROTATE;break;default:a=n.NONE}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(ye)}function yt(t){switch(Ue(t),a){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;Le(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;Ne(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;mt(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;pt(t),e.update();break;default:a=n.NONE}}function ze(t){e.enabled!==!1&&t.preventDefault()}function _t(t){w.push(t.pointerId)}function Et(t){delete v[t.pointerId];for(let u=0;u<w.length;u++)if(w[u]==t.pointerId){w.splice(u,1);return}}function Ue(t){let u=v[t.pointerId];u===void 0&&(u=new D,v[t.pointerId]=u),u.set(t.pageX,t.pageY)}function z(t){const u=t.pointerId===w[0]?w[1]:w[0];return v[u]}e.domElement.addEventListener("contextmenu",ze),e.domElement.addEventListener("pointerdown",Ye),e.domElement.addEventListener("pointercancel",G),e.domElement.addEventListener("wheel",xe,{passive:!1}),this.update()}};const xt=s=>({ref:s&1}),$e=s=>({ref:s[0]});function zt(s){let o;const r=s[6].default,e=se(r,s,s[8],$e);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),o=!0},p(n,a){e&&e.p&&(!o||a&257)&&ie(e,r,n,n[8],o?ce(r,n[8],a,xt):re(n[8]),$e)},i(n){o||(R(e,n),o=!0)},o(n){S(e,n),o=!1},d(n){e&&e.d(n)}}}function Ut(s){let o,r;const e=[{is:s[0]},s[5]];let n={$$slots:{default:[zt,({ref:a})=>({0:a}),({ref:a})=>a?1:0]},$$scope:{ctx:s}};for(let a=0;a<e.length;a+=1)n=N(n,e[a]);return o=new $({props:n}),s[7](o),o.$on("change",s[3]),{c(){F(o.$$.fragment)},l(a){Z(o.$$.fragment,a)},m(a,l){X(o,a,l),r=!0},p(a,[l]){const i=l&33?Me(e,[l&1&&{is:a[0]},l&32&&Te(a[5])]):{};l&257&&(i.$$scope={dirty:l,ctx:a}),o.$set(i)},i(a){r||(R(o.$$.fragment,a),r=!0)},o(a){S(o.$$.fragment,a),r=!1},d(a){s[7](null),W(o,a)}}}function Ht(s,o,r){const e=["ref"];let n=K(o,e),a,l,{$$slots:i={},$$scope:c}=o;const m=Rt();J(s,m,g=>r(9,a=g));const E=g=>g.isCamera,{renderer:y,invalidate:M}=St();if(!E(a))throw new Error("Parent missing: <OrbitControls> need to be a child of a <Camera>");const b=new Yt(a,y.domElement),{start:_,stop:P}=nt(()=>b.update(),{autoStart:!1}),f=Oe();J(s,f,g=>r(1,l=g));const{orbitControls:A}=It();A.set(b),tt(()=>A.set(void 0));function j(g){Pe[g?"unshift":"push"](()=>{l=g,f.set(l)})}return s.$$set=g=>{o=N(N({},o),Ee(g)),r(5,n=K(o,e)),"$$scope"in g&&r(8,c=g.$$scope)},s.$$.update=()=>{n.autoRotate||n.enableDamping?_():P()},[b,l,m,M,f,n,i,j,c]}class cn extends le{constructor(o){super(),ue(this,o,Ht,Ut,ae,{ref:0})}get ref(){return this.$$.ctx[0]}}const ot=s=>`threlte-instanced-mesh-${s}`,Kt=(s,o)=>{const r={instancedMesh:Ve(s),addInstance(e){r.instances.update(n=>(n.push(e),n))},removeInstance(e){r.instances.update(n=>{const a=n.indexOf(e);return a>-1&&n.splice(a,1),n})},instances:Ve([])};return Tt(ot(o),r),r},Ft=s=>{const o=Mt(ot(s));if(!o)throw new Error(`No <InstancedMesh> component found for id ${s}`);return o};function Zt(s){let o,r,e,n,a;o=new $.InstancedBufferAttribute({props:{attach:"instanceMatrix",count:s[1].length/16,array:s[1],itemSize:16,usage:Be}}),e=new $.InstancedBufferAttribute({props:{attach:"instanceColor",count:s[2].length/3,array:s[2],itemSize:3,usage:Be}});const l=s[10].default,i=se(l,s,s[9],null);return{c(){F(o.$$.fragment),r=Ke(),F(e.$$.fragment),n=Ke(),i&&i.c()},l(c){Z(o.$$.fragment,c),r=Fe(c),Z(e.$$.fragment,c),n=Fe(c),i&&i.l(c)},m(c,m){X(o,c,m),Ze(c,r,m),X(e,c,m),Ze(c,n,m),i&&i.m(c,m),a=!0},p(c,[m]){i&&i.p&&(!a||m&512)&&ie(i,l,c,c[9],a?ce(l,c[9],m,null):re(c[9]),null)},i(c){a||(R(o.$$.fragment,c),R(e.$$.fragment,c),R(i,c),a=!0)},o(c){S(o.$$.fragment,c),S(e.$$.fragment,c),S(i,c),a=!1},d(c){c&&(Xe(r),Xe(n)),W(o,c),W(e,c),i&&i.d(c)}}}function Xt(s,o,r){let e,{$$slots:n={},$$scope:a}=o,{instancedMesh:l}=o,{id:i}=o,{limit:c}=o,{range:m}=o,{update:E}=o;const{instances:y}=Kt(l,i);J(s,y,d=>r(8,e=d));const M=new be,b=new Float32Array(c*16);for(let d=0;d<c;d++)M.identity().toArray(b,d*16);const _=new Float32Array(c*3).fill(1),P=new be,f=new be,A=new O,j=new _e,g=new O;let V=!1;return nt(()=>{if(l.updateMatrix(),E||!V){l.updateMatrixWorld(),P.copy(l.matrixWorld).invert(),l.instanceColor&&r(3,l.instanceColor.needsUpdate=!0,l),r(3,l.instanceMatrix.needsUpdate=!0,l);for(let d=0;d<y.current.length;d++){const Y=y.current[d];Y.matrixWorld.decompose(A,j,g),f.compose(A,j,g).premultiply(P),f.toArray(b,d*16),Y.color.toArray(_,d*3)}V=!0}}),s.$$set=d=>{"instancedMesh"in d&&r(3,l=d.instancedMesh),"id"in d&&r(4,i=d.id),"limit"in d&&r(5,c=d.limit),"range"in d&&r(6,m=d.range),"update"in d&&r(7,E=d.update),"$$scope"in d&&r(9,a=d.$$scope)},s.$$.update=()=>{if(s.$$.dirty&360){const d=Math.min(c,m!==void 0?m:c,e.length);r(3,l.count=d,l),Ge>=159?(l.instanceMatrix.clearUpdateRanges(),l.instanceMatrix.addUpdateRange(0,d*16)):r(3,l.instanceMatrix.updateRange.count=d*16,l),l.instanceColor&&(Ge>=159?(l.instanceColor.clearUpdateRanges(),l.instanceColor.addUpdateRange(0,d*3)):r(3,l.instanceColor.updateRange.count=d*3,l))}},[y,b,_,l,i,c,m,E,e,a,n]}class Wt extends le{constructor(o){super(),ue(this,o,Xt,Zt,ae,{instancedMesh:3,id:4,limit:5,range:6,update:7})}}const Vt=s=>({}),ve=s=>({ref:s[4]});function Bt(s){let o;const r=s[9].default,e=se(r,s,s[11],ve);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),o=!0},p(n,a){e&&e.p&&(!o||a&2048)&&ie(e,r,n,n[11],o?ce(r,n[11],a,Vt):re(n[11]),ve)},i(n){o||(R(e,n),o=!0)},o(n){S(e,n),o=!1},d(n){e&&e.d(n)}}}function Gt(s){let o,r;return o=new Wt({props:{instancedMesh:s[4],id:s[0],limit:s[1],range:s[2],update:s[3],$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){F(o.$$.fragment)},l(e){Z(o.$$.fragment,e)},m(e,n){X(o,e,n),r=!0},p(e,n){const a={};n&1&&(a.id=e[0]),n&2&&(a.limit=e[1]),n&4&&(a.range=e[2]),n&8&&(a.update=e[3]),n&2048&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){r||(R(o.$$.fragment,e),r=!0)},o(e){S(o.$$.fragment,e),r=!1},d(e){W(o,e)}}}function qt(s){let o,r,e;const n=[{is:s[4]},{raycast:Qt},{matrixAutoUpdate:!1},{args:s[7]},s[8]];function a(i){s[10](i)}let l={$$slots:{default:[Gt]},$$scope:{ctx:s}};for(let i=0;i<n.length;i+=1)l=N(l,n[i]);return s[5]!==void 0&&(l.bind=s[5]),o=new $({props:l}),Pe.push(()=>wt(o,"bind",a)),{c(){F(o.$$.fragment)},l(i){Z(o.$$.fragment,i)},m(i,c){X(o,i,c),e=!0},p(i,[c]){const m=c&400?Me(n,[c&16&&{is:i[4]},n[1],n[2],c&128&&{args:i[7]},c&256&&Te(i[8])]):{};c&2063&&(m.$$scope={dirty:c,ctx:i}),!r&&c&32&&(r=!0,m.bind=i[5],Ot(()=>r=!1)),o.$set(m)},i(i){e||(R(o.$$.fragment,i),e=!0)},o(i){S(o.$$.fragment,i),e=!1},d(i){W(o,i)}}}const Qt=()=>null;function Jt(s,o,r){const e=["id","limit","range","update","ref"];let n=K(o,e),a,{$$slots:l={},$$scope:i}=o,{id:c="default"}=o,{limit:m=1e3}=o,{range:E=1e3}=o,{update:y=!0}=o;const M=new Lt(null,null,0),b=Oe();J(s,b,f=>r(5,a=f));const _=[null,null,0];function P(f){a=f,b.set(a)}return s.$$set=f=>{o=N(N({},o),Ee(f)),r(8,n=K(o,e)),"id"in f&&r(0,c=f.id),"limit"in f&&r(1,m=f.limit),"range"in f&&r(2,E=f.range),"update"in f&&r(3,y=f.update),"$$scope"in f&&r(11,i=f.$$scope)},[c,m,E,y,M,a,b,_,n,l,P,i]}class ln extends le{constructor(o){super(),ue(this,o,Jt,qt,ae,{id:0,limit:1,range:2,update:3,ref:4})}get ref(){return this.$$.ctx[4]}}const $t=s=>({}),et=s=>({ref:s[0]});function vt(s){let o;const r=s[5].default,e=se(r,s,s[7],et);return{c(){e&&e.c()},l(n){e&&e.l(n)},m(n,a){e&&e.m(n,a),o=!0},p(n,a){e&&e.p&&(!o||a&128)&&ie(e,r,n,n[7],o?ce(r,n[7],a,$t):re(n[7]),et)},i(n){o||(R(e,n),o=!0)},o(n){S(e,n),o=!1},d(n){e&&e.d(n)}}}function en(s){let o,r;const e=[{is:s[0]},s[3]];let n={$$slots:{default:[vt]},$$scope:{ctx:s}};for(let a=0;a<e.length;a+=1)n=N(n,e[a]);return o=new $({props:n}),s[6](o),{c(){F(o.$$.fragment)},l(a){Z(o.$$.fragment,a)},m(a,l){X(o,a,l),r=!0},p(a,[l]){const i=l&9?Me(e,[l&1&&{is:a[0]},l&8&&Te(a[3])]):{};l&128&&(i.$$scope={dirty:l,ctx:a}),o.$set(i)},i(a){r||(R(o.$$.fragment,a),r=!0)},o(a){S(o.$$.fragment,a),r=!1},d(a){s[6](null),W(o,a)}}}function tn(s,o,r){const e=["id","ref"];let n=K(o,e),a,{$$slots:l={},$$scope:i}=o,{id:c="default"}=o;const{addInstance:m,removeInstance:E,instancedMesh:y,instances:M}=Ft(c),b=new Nt(y,M);m(b),tt(()=>{E(b)});const _=Oe();J(s,_,f=>r(1,a=f));function P(f){Pe[f?"unshift":"push"](()=>{a=f,_.set(a)})}return s.$$set=f=>{o=N(N({},o),Ee(f)),r(3,n=K(o,e)),"id"in f&&r(4,c=f.id),"$$scope"in f&&r(7,i=f.$$scope)},[b,a,_,n,c,l,P,i]}class un extends le{constructor(o){super(),ue(this,o,tn,en,ae,{id:4,ref:0})}get ref(){return this.$$.ctx[0]}}export{ln as I,cn as O,un as a};
